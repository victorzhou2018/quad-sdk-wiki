# Welcome to the Quad-SDK wiki!

### Setup repo

1. Install Ubuntu 18.04 (dual boot or VM) ([help](https://linuxhint.com/install_ubuntu_18-04_virtualbox/))
2. Install ROS Melodic ([help](http://wiki.ros.org/melodic/Installation/Ubuntu))
3. (Required for Local Planner) Get HSL solver for IPOPT ([help](http://hsl.rl.ac.uk/ipopt))
4. Create catkin workspace ([help](http://wiki.ros.org/ROS/Tutorials/InstallingandConfiguringROSEnvironment))
5. Setup repo
```bash
cd ~/catkin_ws
source devel/setup.bash
cd src
git clone https://github.com/robomechanics/quad-sdk.git
cd quad-sdk
(required) cp -r /path/to/HSL /external/ipopt/coinhsl
chmod +x setup.sh && ./setup.sh
cd ~/catkin_ws
catkin build
```

### Run tests
Always do this before pushing to any branch to confirm that tests will pass.
```bash
roslaunch quad_utils load_params.launch
cd ~/catkin_ws
catkin run_tests
```

### Setup new branch
```bash
cd ~/catkin_ws/src/quad-sdk
git checkout -b <ros-distro>_<base-branch>_<package>_<description>
git push --set-upstream origin <ros-distro>_<base-branch>_<package>_<description>
```

### Lint formatting
```bash
cd ~/catkin_ws/src/quad-sdk
./scripts/lint_soft.sh
```

### Create new package
```bash
cd ~/catkin_ws/src/quad-sdk
catkin_create_pkg quad_package_name roscpp std_msgs *other-rosdeps-here*
```
After creating a package, open package.xml and modify the package owner and contact info to be yourself.

You can also copy and existing package and edit its contents, just be sure to update the contents fully (including the package.xml and CMake Lists.txt).

### Create documentation
```bash
cd ~/catkin_ws/src/quad-sdk
doxygen Doxyfile
firefox docs/index.html
```

The repository is configured such that the [Doxygen](https://robomechanics.github.io/quad-sdk/) page will automatically update with any changes to the main branch.

### Create new custom messages
Custom messages can be placed in quad_msgs/msg. See the [ROS Tutorials](http://wiki.ros.org/ROS/Tutorials/CreatingMsgAndSrv) for details on message creation. Add your message filename to the `add_message_files()` in quad_msgs/CMakeLists.txt, and add quad_msgs as a dependency to your package. To implement and namespace your messages, refer to [this tutorial](http://wiki.ros.org/ROS/Tutorials/DefiningCustomMessages). 

### Ghost SDK Documentation (for Spirit users)
See the documentation [here](https://ghostusers.gitlab.io/docs/). Must have access to their repository.
